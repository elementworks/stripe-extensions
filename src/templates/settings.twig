{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * Stripe Extensions plugin for Craft CMS 3.x
 *
 * Stripe Extensions Settings.twig
 *
 * @author    Steve Rowling
 * @copyright Copyright (c) 2021 Steve Rowling
 * @link      https://springworks.co.uk
 * @package   StripeExtensions
 * @since     1.0.0
 */
#}

{% import "_includes/forms" as forms %}

{{ forms.selectField({
    first: true,
    label: 'Subscriber user group',
    instructions: 'Choose the user group to add new subscribers to after a subscription has been successfully purchased by a guest user.',
    id: 'subscriberUserGroup',
    name: 'subscriberUserGroup',
    value: settings.subscriberUserGroup,
    options: userGroups})
}}

{{ forms.lightswitchField({
    label: 'Send new user activation email',
    instructions: 'Send new user activation email to the newly created user.',
    id: 'sendActivationEmail',
    name: 'sendActivationEmail',
    on: settings.sendActivationEmail})
}}

{{ forms.lightswitchField({
    label: 'Automatically login new user',
    instructions: 'Automatically login the new user after they have been created.',
    id: 'autoLoginUser',
    name: 'autoLoginUser',
    on: settings.autoLoginUser})
}}

{{ forms.lightswitchField({
    label: 'Set subscription expiry date',
    instructions: 'Set subscription expiry date to a user field (specified below). This will automatically update as each invoice is padi in Stripe by the user.',
    id: 'setSubscriptionExpiryDate',
    name: 'setSubscriptionExpiryDate',
    on: settings.setSubscriptionExpiryDate})
}}

{{ forms.selectField({
    first: true,
    label: 'Subscription expiry date field',
    instructions: 'Choose the user field to save the subscription expiry date to.',
    id: 'subscriptionExpiryDateField',
    name: 'subscriptionExpiryDateField',
    value: settings.subscriptionExpiryDateField,
    options: userFields})
}}

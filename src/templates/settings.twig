{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * Stripe Extensions plugin for Craft CMS 3.x
 *
 * Stripe Extensions Settings.twig
 *
 * @author    Steve Rowling
 * @copyright Copyright (c) 2021 Steve Rowling
 * @link      https://springworks.co.uk
 * @package   StripeExtensions
 * @since     1.0.0
 */
#}

{% import "_includes/forms" as forms %}

{{ forms.lightswitchField({
    first: true,
    label: 'Enable user lightswitch field when subscription ends',
    instructions: 'Enable a user lightswitch field (specified below) when their subscription ends. This is triggered by the webhook from Stripe when the `customer.subscription.deleted` event occurs.',
    id: 'enableUserFieldOnSubscriptionEnd',
    name: 'enableUserFieldOnSubscriptionEnd',
    on: settings.enableUserFieldOnSubscriptionEnd})
}}

{{ forms.selectField({
    first: true,
    label: 'User lightswitch field',
    instructions: 'Choose the user field to save the subscription expiry date to.',
    id: 'userLightswitchField',
    name: 'userLightswitchField',
    value: settings.userLightswitchField,
    options: userFields})
}}
